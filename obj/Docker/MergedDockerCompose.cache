services:
  eventstore:
    container_name: eventstore
    environment:
      EVENTSTORE_EXT_HTTP_PORT: '2113'
      EVENTSTORE_EXT_TCP_PORT: '1113'
    image: eventstore/eventstore
    ports:
    - published: 2113
      target: 2113
    - published: 1113
      target: 1113
  rabbitmq:
    container_name: rabbit
    environment:
      RABBITMQ_DEFAULT_PASS: some_password
      RABBITMQ_DEFAULT_USER: rabbitmquser
    hostname: localhost
    image: rabbitmq:3.8-rc-management
    ports:
    - published: 5672
      target: 5672
    - published: 15672
      target: 15672
  ravendb:
    container_name: roomservicemanagementravendb
    environment:
      RAVEN_ARGS: '"--Setup.Mode=None"'
      RAVEN_Security_UnsecuredAccessAllowed: PublicNetwork
    image: ravendb/ravendb
    ports:
    - published: 8080
      target: 8080
  roomservicemanagement.api:
    build:
      context: C:\src\jorge\UOCHotels
      dockerfile: RoomServiceManagement.Api/Dockerfile
    depends_on:
    - eventstore
    - rabbitmq
    - ravendb
    environment:
      ASPNETCORE_ENVIRONMENT: Development
      ASPNETCORE_HTTPS_PORT: '44386'
      ASPNETCORE_URLS: https://+:443;http://+:80
      AppSettings__JwtSecret: aasd3423423rji23jri23rj23jrj23rji23ii3
      EventStore__ConnectionString: ConnectTo=tcp://admin:changeit@localhost:1113;     DefaultUserCredentials=admin:changeit;
      RabbitMQ__Password: some_password
      RabbitMQ__User: rabbitmquser
    image: roomservicemanagement
    ports:
    - published: 53838
      target: 80
    - published: 44386
      target: 443
    volumes:
    - C:\Users\JorgeOlivÚRodrÝguez\AppData\Roaming\Microsoft\UserSecrets:/root/.microsoft/usersecrets:rw
    - C:\Users\JorgeOlivÚRodrÝguez\AppData\Roaming\ASP.NET\Https:/root/.aspnet/https:rw
version: '3.4'